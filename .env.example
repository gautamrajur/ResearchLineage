# ══════════════════════════════════════════════════════════════════════
# API Keys
# ══════════════════════════════════════════════════════════════════════
SEMANTIC_SCHOLAR_API_KEY=your_s2_api_key_here
SEMANTIC_SCHOLAR_BASE_URL=https://api.semanticscholar.org/graph/v1
SEMANTIC_SCHOLAR_RATE_LIMIT=100
ARXIV_BASE_URL=http://export.arxiv.org/api/query
OPENALEX_BASE_URL=https://api.openalex.org

# Required for fine_tuning_data_pipeline DAG (LLM analysis)
GEMINI_API_KEY=your_gemini_api_key_here

# ══════════════════════════════════════════════════════════════════════
# Local / Airflow Postgres (Airflow metadata + main pipeline writes)
# ══════════════════════════════════════════════════════════════════════
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=researchlineage
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=10

# ══════════════════════════════════════════════════════════════════════
# Cloud SQL (GCP) — used by retry_failed_pdfs DAG
# Start the Cloud SQL Proxy locally before running that DAG:
#   ./cloud-sql-proxy --port 5433 researchlineage:us-central1:researchlineage-db
# ══════════════════════════════════════════════════════════════════════
CLOUD_SQL_HOST=localhost
CLOUD_SQL_PORT=5433
CLOUD_SQL_DB=researchlineage
CLOUD_SQL_USER=your_cloud_sql_user
CLOUD_SQL_PASSWORD=your_cloud_sql_password

# ══════════════════════════════════════════════════════════════════════
# Redis (API response cache, 48h TTL)
# ══════════════════════════════════════════════════════════════════════
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_TTL=172800

# ══════════════════════════════════════════════════════════════════════
# GCS (Google Cloud Storage) — fine-tuning artifacts + DVC remote
# ══════════════════════════════════════════════════════════════════════
GCS_BUCKET_NAME=researchlineage-gcs
GCS_PROJECT_ID=researchlineage
GCS_UPLOAD_PREFIX=fine-tuning-artifacts/

# ══════════════════════════════════════════════════════════════════════
# GCP credentials — path to your local gcloud config directory
# Mac/Linux: /Users/<your-username>/.config/gcloud
# Windows:   C:/Users/<your-username>/AppData/Roaming/gcloud
# ══════════════════════════════════════════════════════════════════════
GCLOUD_CONFIG_DIR=/Users/your-username/.config/gcloud

# ══════════════════════════════════════════════════════════════════════
# Pipeline settings
# ══════════════════════════════════════════════════════════════════════
MAX_CITATION_DEPTH=3
MAX_PAPERS_PER_LEVEL=15
MIN_CITATION_COUNT=10
INFLUENTIAL_CITATION_WEIGHT=2.0

# ══════════════════════════════════════════════════════════════════════
# Monitoring / Logging
# ══════════════════════════════════════════════════════════════════════
LOG_LEVEL=INFO
ENABLE_METRICS=true

# ══════════════════════════════════════════════════════════════════════
# SMTP email alerts (anomaly detection + PDF failure alerts)
# Leave blank to disable — pipeline continues silently without alerts.
# Gmail: enable 2-Step Verification, generate App Password at
#        myaccount.google.com/apppasswords, use the 16-char code below.
# ══════════════════════════════════════════════════════════════════════
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your.email@gmail.com
SMTP_PASSWORD=abcd efgh ijkl mnop
ALERT_EMAIL_FROM=your.email@gmail.com
ALERT_EMAIL_TO=alerts@yourdomain.com

# ══════════════════════════════════════════════════════════════════════
# Environment tag
# ══════════════════════════════════════════════════════════════════════
ENVIRONMENT=development
